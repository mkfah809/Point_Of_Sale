<!DOCTYPE html>
<html xmlns:th="http//thymeleaf.org">
<head>
<style>
</style>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://kit.fontawesome.com/f09b2e2e32.js"
	crossorigin="anonymous"></script>
<link rel="stylesheet" href="/css/order.css">

</head>
<body>

	<div class="conntainer">
		<table class="_table">

			<tbody id="table_body">

				<form th:if="${order.orderId} != null" method="post"
					th:action="@{/customer/{custId}/order/{orderId}(orderId=${order.orderId},custId=${customer.custId})}">
					<div class="conntainer">
						<table class="_table">
							<thead>
								<tr>
									<th>Size</th>
									<th>Qty</th>
									<th>HowCooked</th>
									<th>Comment</th>
								</tr>

							</thead>
							<tbody id="table_body">
								<tr>
									<td><select class="form_control" th:field="${pizza.size}"
										name="size" id="size">
											<option th:value="Lg">Lg</option>
											<option th:value="Sm">Sm</option>
									</select></td>
									<td><select class="form_control" th:field="${pizza.qty}">
											<option th:each="i : ${#numbers.sequence(1, 500)}"
												th:value="${i}" th:text="${i}"></option>
									</select></td>
									<td><select class="form_control"
										th:field="${pizza.HowCooked}" name="size" id="size">
											<option th:value="Regular">Regular</option>
											<option th:value="WellDone">WellDone</option>
											<option th:value="LightCooked">LightCooked</option>

									</select></td>

									<td><input class="form_control" th:field=${pizza.comment}></td>
									<td>
										<div class="action_container">
											<button id="pizzaAddBtn" class="success">
												addItem <i class="fa-solid fa-plus"></i>
											</button>
										</div> <input type="hidden" th:value="${order.orderId}" id="orderId">
									</td>
								</tr>
							</tbody>
						</table>
					</div>

					<br> <br>
				</form>

			</tbody>
		</table>
	</div>

	<input type="hidden" th:value="${order.orderId}" id="orderById">
	<br>
	<hr>

	<table>
		<tr>
			<th>ID</th>
			<th>Qty</th>
			<th>Size</th>
			<th>Toppings</th>
			<th>Cooked</th>
			<th>Comment</th>
			<th>price</th>
		</tr>

		<tr th:each="pizza : ${pizzas}">
			<td>[[${pizza.pizzaId}]]</td>
			<td>x[[${pizza.qty}]]</td>
			<td>[[${pizza.size}]]</td>
			<td>

				<div th:each="topping : ${toppings}">
<!-- 					<form method="post" -->
<!-- 						th:action="@{/customer/{custId}/order/{orderId}/pizza/{pizzaId}(custId=${customer.custId},orderId=${order.orderId},pizzaId=${pizza.pizzaId})}"> -->


<!-- 						<input type="text" id="csrf" th:name="${_csrf.parameterName}" -->
<!-- 							th:value="${_csrf.token}" />  -->
							<input id="pizzaId" type="text" th:field="${pizza.pizzaId}"> 
							<input id="toppingName"	type="text" th:value="${topping.name}">
						<Button id="toppingBtn" value="submit" type="submit">add</Button>

<!-- 					</form> -->
				</div>

			</td>



			<td>[[${pizza.HowCooked}]]</td>
			<td>[[${pizza.comment}]]</td>
			<td>[[${pizza.price}]]</td>
			<td>
				<form method="post"
					th:action="@{/deleteItem/from/order/{pizzaId}/{orderId}/{custId}(pizzaId=${pizza.pizzaId},orderId=${order.orderId},custId =${customer.custId})}">
					<div class="action_container">
						<button class="danger">RemoveItem</button>
					</div>
					<input type=hidden id="csrf" th:name="${_csrf.parameterName}"
						th:value="${_csrf.token}" /> <input type="hidden"
						th:value="${order.orderId}" id="orderId">
				</form>

			</td>
		</tr>

	</table>


		<script type="text/javascript" src="/js/order.js"></script>
</body>
</html>